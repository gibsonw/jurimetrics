xxx <- tibble(data.frame(assunto = 'xx',x$fcast))
xxx <- rbind(xxx, data.frame(assunto = 'yyyyyy',x$fcast))
xxx <- rbind(xxx, data.frame(assunto = 'yyyyyy',x$fcast))
xxx <- rbind(xxx, data.frame(assunto = 'yyyyyy',x$fcast))
xxx <- rbind(xxx, data.frame(assunto = 'yyyyyy',x$fcast))
View(xxx)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
print(df_subject[1])
ts_1 <- df_ts %>% filter(df_ts == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(df_ts == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
return(df_fcast)
}
t <- run_fits(tb_jurimetrics_adj,df_subject)
tb_jurimetrics_adj %>% filter(tb_jurimetrics_adj == df_subject[1])
tb_jurimetrics_adj %>% filter(df_subject[1])
tb_jurimetrics_adj
tb_jurimetrics_adj %>% filter(subject_decoded == df_subject[1])
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
print(df_subject[1])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
return(df_fcast)
}
t <- run_fits(tb_jurimetrics_adj,df_subject)
tb_jurimetrics_adj %>% filter(subject_decoded == df_subject[1])
run_fits(tb_jurimetrics_adj,df_subject)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
print(df_subject[1])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
return(df_fcast)
}
run_fits(tb_jurimetrics_adj,df_subject)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
print(df_ts)
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
return(df_fcast)
}
run_fits(tb_jurimetrics_adj,df_subject)
run_fits(df_subject,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return(df_fcast)
}
run_fits(df_subject,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return(df_fcast)
}
run_fits(df_subject,tb_jurimetrics_adj)
assunto <- "1"
run_fits(tb_jurimetrics_adj,assunto)
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- data.frame(df_subject[1],t$fcast)
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return(list(df_fcast))
}
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
print("passo 3")
df_fcast <- data.frame(df_subject[1],t$fcast)
print("passo 4")
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return(list(df_fcast))
}
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
print("passo 3")
#df_fcast <- data.frame(df_subject[1],t$fcast)
print(data.frame(df_subject[1],t$fcast))
print("passo 4")
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return(list(df_fcast))
}
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
print("passo 3")
df_fcast <- data.frame(df_subject[1],t$fcast)
print(data.frame(df_subject[1],t$fcast))
print("passo 4")
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return (list(df_fcast))
}
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
print("passo 2")
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
print("passo 3")
df_fcast <- data.frame(Subject = df_subject[1], fcast = t$fcast)
print("passo 4")
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return (list(df_fcast))
}
assunto <- "1"
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
print("passo 1")
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
print("passo 2")
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return (list(df_fcast))
}
run_fits(assunto,tb_jurimetrics_adj)
class(t)
class(t[1])
class(t[1])
t[1]
t$fcast
data.frame('Subject' = df_subject[1], 'fcast' = t[1])
asas<- data.frame('Subject' = df_subject[1], 'fcast' = t[1])
asas
View(asas)
asas<- data.frame('Subject' = df_subject[1], 'fcast' = t[1])
asas<- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
asas
View(asas)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
print("passo 1")
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
print("passo 2")
"
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F) %>% tibble() %>% add_row()
df_fcast <- rbind(df_fcast, data.frame(df_subject[i],t$fcast))
}
"
return (list(df_fcast))
}
run_fits(assunto,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
for(i in 2:5){
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
}
return (df_fcast)
}
run_fits(assunto,tb_jurimetrics_adj)
run_fits(df_subject,tb_jurimetrics_adj)
t <- run_fits(df_subject,tb_jurimetrics_adj)
t
View(t)
View(t)
View(t_lis)
View(t_list)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
df_all_fnc_err <- data.frame('Subject' = df_subject[1], 'all_fnc_err' = t$all_fnc_err)
df_aic <- data.frame('Subject' = df_subject[1], 'aic' = t$aic)
df_best_model <- data.frame('Subject' = df_subject[1], 'best.model' = t$best.model)
for(i in 2:5){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
df_all_fnc_err <- rbind(df_all_fnc_err,data.frame('Subject' = df_subject[i], 'all_fnc_err' = t$all_fnc_err))
df_aic <- rbind(df_aic,data.frame('Subject' = df_subject[i], 'aic' = t$aic))
df_best_model <- rbind(df_best_model,data.frame('Subject' = df_subject[i], 'best.model' = t$best.model))
}
return (list(df_fcast,df_all_fnc_err,df_aic,df_best_model))
}
t <- run_fits(df_subject,tb_jurimetrics_adj)
View(t)
lenght(df_subject)
length(df_subject)
t <- run_fits(df_subject,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
df_all_fnc_err <- data.frame('Subject' = df_subject[1], 'all_fnc_err' = t$all_fnc_err)
df_aic <- data.frame('Subject' = df_subject[1], 'aic' = t$aic)
df_best_model <- data.frame('Subject' = df_subject[1], 'best.model' = t$best.model)
for(i in 2:length(df_subject)){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
df_all_fnc_err <- rbind(df_all_fnc_err,data.frame('Subject' = df_subject[i], 'all_fnc_err' = t$all_fnc_err))
df_aic <- rbind(df_aic,data.frame('Subject' = df_subject[i], 'aic' = t$aic))
df_best_model <- rbind(df_best_model,data.frame('Subject' = df_subject[i], 'best.model' = t$best.model))
}
return (list(df_fcast,df_all_fnc_err,df_aic,df_best_model))
}
t <- run_fits(df_subject,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
df_all_fnc_err <- data.frame('Subject' = df_subject[1], 'all_fnc_err' = t$all_fnc_err)
df_aic <- data.frame('Subject' = df_subject[1], 'aic' = t$aic)
df_best_model <- data.frame('Subject' = df_subject[1], 'best.model' = t$best.model)
#length(df_subject)
for(i in 2:6){
print(df_subject[i])
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
df_all_fnc_err <- rbind(df_all_fnc_err,data.frame('Subject' = df_subject[i], 'all_fnc_err' = t$all_fnc_err))
df_aic <- rbind(df_aic,data.frame('Subject' = df_subject[i], 'aic' = t$aic))
df_best_model <- rbind(df_best_model,data.frame('Subject' = df_subject[i], 'best.model' = t$best.model))
}
return (list(df_fcast,df_all_fnc_err,df_aic,df_best_model))
}
t <- run_fits(df_subject,tb_jurimetrics_adj)
length(df_subject)
length("df_subject")
t <- run_fits("abono de permanência",tb_jurimetrics_adj)
tb_jurimetrics_adj %>% filter(subject_decoded == "abono de permanência")
t <- run_fits("abono de permanência",tb_jurimetrics_adj)
ts_1 <- tb_jurimetrics_adj %>% filter(subject_decoded == "abono de permanência")
ts_1
ts(ts_1[,4])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
ts_1 <- tb_jurimetrics_adj %>% filter(subject_decoded == "abono de permanência")
ts(ts_1[,4])
t
ts_1 <- tb_jurimetrics_adj %>% filter(subject_decoded == "abandono intelectual")
ts(ts_1[,4])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
t
print("ssfdsfsd"+"sadsad")
print("ssfdsfsd"+assunto+"sadsad")
print("ssfdsfsd"+assunto+"sadsad")
print("ssfdsfsd"+assunto+"sadsad")
print("ssfdsfsd"+assunto)
print("ssfdsfsd",assunto)
print("ssfdsfsd"assunto)
print("ssfdsfsd"+assunto)
print(cat("Current working dir: ", assunto)
print(paste0("Current working dir: ", assunto)
print(paste0("Current working dir: ", assunto))
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
df_all_fnc_err <- data.frame('Subject' = df_subject[1], 'all_fnc_err' = t$all_fnc_err)
df_aic <- data.frame('Subject' = df_subject[1], 'aic' = t$aic)
df_best_model <- data.frame('Subject' = df_subject[1], 'best.model' = t$best.model)
if(length(df_subject) > 1){
#length(df_subject)
for(i in 2:length(df_subject)){
print(paste0(i, df_subject[i]) )
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
df_all_fnc_err <- rbind(df_all_fnc_err,data.frame('Subject' = df_subject[i], 'all_fnc_err' = t$all_fnc_err))
df_aic <- rbind(df_aic,data.frame('Subject' = df_subject[i], 'aic' = t$aic))
df_best_model <- rbind(df_best_model,data.frame('Subject' = df_subject[i], 'best.model' = t$best.model))
}
}
return (list(df_fcast,df_all_fnc_err,df_aic,df_best_model))
}
t <- run_fits(df_subject,tb_jurimetrics_adj)
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
df_all_fnc_err <- data.frame('Subject' = df_subject[1], 'all_fnc_err' = t$all_fnc_err)
df_aic <- data.frame('Subject' = df_subject[1], 'aic' = t$aic)
df_best_model <- data.frame('Subject' = df_subject[1], 'best.model' = t$best.model)
if(length(df_subject) > 1){
#length(df_subject)
for(i in 2:length(df_subject)){
print(paste0("i = ",i,"; Assunto  = ", df_subject[i]) )
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
print("passo 1")
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
print("passo 2")
df_all_fnc_err <- rbind(df_all_fnc_err,data.frame('Subject' = df_subject[i], 'all_fnc_err' = t$all_fnc_err))
print("passo 3")
df_aic <- rbind(df_aic,data.frame('Subject' = df_subject[i], 'aic' = t$aic))
print("passo 4")
df_best_model <- rbind(df_best_model,data.frame('Subject' = df_subject[i], 'best.model' = t$best.model))
}
}
return (list(df_fcast,df_all_fnc_err,df_aic,df_best_model))
}
run_fits(df_subject,tb_jurimetrics_adj)
t <- run_fits(df_subject[6],tb_jurimetrics_adj)
t
t
t <- run_fits(df_subject[6],tb_jurimetrics_adj)
t
run_fits <- function(df_subject, df_ts) {
"
df_df_subject = dataframe de assuntos jurimetrics
df_ts =  dataframe com as series temporais de assuntos jurimetrics
"
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[1])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = T,show.sec.graph = F)
df_fcast <- data.frame('Subject' = df_subject[1], 'fcast' = t$fcast)
df_all_fnc_err <- data.frame('Subject' = df_subject[1], 'all_fnc_err' = t$all_fnc_err)
df_aic <- data.frame('Subject' = df_subject[1], 'aic' = t$aic)
df_best_model <- data.frame('Subject' = df_subject[1], 'best.model' = t$best.model)
if(length(df_subject) > 1){
#length(df_subject)
for(i in 2:length(df_subject)){
print(paste0("i = ",i,"; Assunto  = ", df_subject[i]) )
ts_1 <- df_ts %>% filter(subject_decoded == df_subject[i])
t <- fits(ts(ts_1[,4]),train = 0.85,show.main.graph = F,show.sec.graph = F)
print("passo 1")
df_fcast <- rbind(df_fcast, data.frame('Subject' = df_subject[i], 'fcast' = t$fcast))
print("passo 2")
df_all_fnc_err <- rbind(df_all_fnc_err,data.frame('Subject' = df_subject[i], 'all_fnc_err' = t$all_fnc_err))
print("passo 3")
df_aic <- rbind(df_aic,data.frame('Subject' = df_subject[i], 'aic' = t$aic))
print("passo 4")
df_best_model <- rbind(df_best_model,data.frame('Subject' = df_subject[i], 'best.model' = t$best.model))
}
}
return (list(df_fcast,df_all_fnc_err,df_aic,df_best_model))
}
t <- run_fits(df_subject[6],tb_jurimetrics_adj)
t
